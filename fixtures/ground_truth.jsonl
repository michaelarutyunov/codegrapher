{"task_id": "task_001", "description": "Fix KeyError with --import-mode=importlib in nested directories with same-named subdirectories", "repo": "https://github.com/pytest-dev/pytest", "commit_before": "7108bb9", "commit_after": "6486c3f3a858a0c8043f5c3f7c24297b82a0abe4", "cursor_file": "src/_pytest/pathlib.py", "query_terms": ["import_module_using_spec", "sys.modules", "importlib", "namespace package", "KeyError"], "files_edited": ["src/_pytest/pathlib.py", "testing/test_pathlib.py"], "expected_bundle_should_contain": ["src/_pytest/pathlib.py", "src/_pytest/config/__init__.py", "src/_pytest/main.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Ensures parent modules are registered in sys.modules before importing child modules per Python's importlib conventions. Large repo ~60k+ LOC."}
{"task_id": "task_002", "description": "Fix pytest.approx crash with decimal.Decimal when FloatOperation trap is enabled", "repo": "https://github.com/pytest-dev/pytest", "commit_before": "main", "commit_after": "fb74025", "cursor_file": "src/_pytest/python/approx.py", "query_terms": ["approx", "Decimal", "__repr__", "FloatOperation", "tolerance comparison"], "files_edited": ["src/_pytest/python/approx.py", "testing/python/approx.py"], "expected_bundle_should_contain": ["src/_pytest/python/approx.py", "src/_pytest/python/__init__.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Avoids float-Decimal comparisons in __repr__ method. Large repo ~60k+ LOC."}
{"task_id": "task_003", "description": "Preserve source positions during assertion rewriting for AST analysis tools", "repo": "https://github.com/pytest-dev/pytest", "commit_before": "5c25c59", "commit_after": "fb74025", "cursor_file": "src/_pytest/assertion/rewrite.py", "query_terms": ["assertion rewriting", "ast.copy_location", "source positions", "traverse_node", "executing library"], "files_edited": ["src/_pytest/assertion/rewrite.py", "testing/test_assertrewrite.py"], "expected_bundle_should_contain": ["src/_pytest/assertion/rewrite.py", "src/_pytest/assertion/__init__.py", "src/_pytest/assertion/util.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Maintains original source ranges instead of overwriting uniformly. Large repo ~60k+ LOC."}
{"task_id": "task_004", "description": "Fix multipart form parser handling of \\r\\n at chunk boundaries", "repo": "https://github.com/pallets/werkzeug", "commit_before": "emmanuelthome/fix-split-rn", "commit_after": "33bdb41", "cursor_file": "src/werkzeug/sansio/multipart.py", "query_terms": ["multipart", "chunk boundary", "carriage return", "line break", "stream decoder"], "files_edited": ["src/werkzeug/sansio/multipart.py", "tests/sansio/test_multipart.py"], "expected_bundle_should_contain": ["src/werkzeug/sansio/multipart.py", "src/werkzeug/formparser.py", "src/werkzeug/datastructures/file_storage.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Preserves trailing \\r across stream chunks to prevent newline markers from being split. Medium repo ~20k LOC."}
{"task_id": "task_005", "description": "Fix stream_with_context failure in async Flask routes due to context variable mismatch", "repo": "https://github.com/pallets/flask", "commit_before": "issue-5774", "commit_after": "5799-merged", "cursor_file": "src/flask/helpers.py", "query_terms": ["stream_with_context", "async routes", "context variables", "request context", "ValueError"], "files_edited": ["src/flask/helpers.py", "tests/test_async.py"], "expected_bundle_should_contain": ["src/flask/helpers.py", "src/flask/ctx.py", "src/flask/app.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Defers context push to response streaming start. Medium repo ~15k LOC."}
{"task_id": "task_006", "description": "Fix Flask test client session state when using follow_redirects", "repo": "https://github.com/pallets/flask", "commit_before": "test-redirect-session", "commit_after": "24824ff", "cursor_file": "src/flask/testing.py", "query_terms": ["test client", "follow_redirects", "session", "context stack", "preserved contexts"], "files_edited": ["src/flask/testing.py", "tests/test_testing.py"], "expected_bundle_should_contain": ["src/flask/testing.py", "src/flask/ctx.py", "src/flask/sessions.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Pushes preserved contexts in correct order (oldest to newest). Medium repo ~15k LOC."}
{"task_id": "task_007", "description": "Make Jinja unique filter async-aware for async generator compatibility", "repo": "https://github.com/pallets/jinja", "commit_before": "sileht/1781", "commit_after": "merged-1782", "cursor_file": "src/jinja2/filters.py", "query_terms": ["unique filter", "async generator", "do_unique", "async aware", "filter chain"], "files_edited": ["src/jinja2/filters.py", "tests/test_filters.py"], "expected_bundle_should_contain": ["src/jinja2/filters.py", "src/jinja2/environment.py", "src/jinja2/runtime.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Converts async generators to lists before uniqueness logic. Medium repo ~20k LOC."}
{"task_id": "task_008", "description": "Fix Werkzeug debugger PIN check to fail after exactly 10 attempts", "repo": "https://github.com/pallets/werkzeug", "commit_before": "Grezzo/debugger-pin-timeout", "commit_after": "c7d2b8b", "cursor_file": "src/werkzeug/debug/__init__.py", "query_terms": ["debugger PIN", "authentication attempts", "lockout", "pin check", "security"], "files_edited": ["src/werkzeug/debug/__init__.py", "tests/test_debug.py"], "expected_bundle_should_contain": ["src/werkzeug/debug/__init__.py", "src/werkzeug/debug/console.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Consistent PIN timeout checking. Medium repo ~20k LOC."}
{"task_id": "task_009", "description": "Fix pickle error with model_construct when MISSING is a default value", "repo": "https://github.com/pydantic/pydantic", "commit_before": "fix-12522", "commit_after": "a5d9af6", "cursor_file": "pydantic/_internal/_utils.py", "query_terms": ["smart_deepcopy", "MISSING sentinel", "pickle", "model_construct", "TypeError"], "files_edited": ["pydantic/_internal/_utils.py", "tests/test_missing_sentinel.py"], "expected_bundle_should_contain": ["pydantic/_internal/_utils.py", "pydantic/fields.py", "pydantic/main.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Adds early return in smart_deepcopy for MISSING sentinel. Large repo ~40k LOC."}
{"task_id": "task_010", "description": "Fix forward references in parent TypedDict classes for Python 3.14 compatibility", "repo": "https://github.com/pydantic/pydantic", "commit_before": "viicos/fix-12421", "commit_after": "4707ebb", "cursor_file": "pydantic/_internal/_typing_extra.py", "query_terms": ["TypedDict", "forward references", "parent class", "deferred imports", "name resolution"], "files_edited": ["pydantic/_internal/_typing_extra.py", "tests/test_typed_dict.py"], "expected_bundle_should_contain": ["pydantic/_internal/_typing_extra.py", "pydantic/_internal/_core_utils.py", "pydantic/_internal/_fields.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Handles name resolution properly in TypedDict parent classes. Large repo ~40k LOC."}
{"task_id": "task_011", "description": "Prevent annotation evaluation when inspecting validators and serializers", "repo": "https://github.com/pydantic/pydantic", "commit_before": "viicos/fix-12353", "commit_after": "7021708b7c32a10dfb22ab30ff07d1dcd2b02f1b", "cursor_file": "pydantic/_internal/_decorators.py", "query_terms": ["model_validator", "annotation evaluation", "forward references", "decorator inspection", "self-referential"], "files_edited": ["pydantic/_internal/_decorators.py", "tests/test_deferred_annotations.py"], "expected_bundle_should_contain": ["pydantic/_internal/_decorators.py", "pydantic/functional_validators.py", "pydantic/_internal/_generate_schema.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Avoids runtime errors with self-referential type hints. Large repo ~40k LOC."}
{"task_id": "task_012", "description": "Fix Click Fish shell completions for quoted and escaped parameters", "repo": "https://github.com/pallets/click", "commit_before": "hanslenhert/fix-fish-quoted-params", "commit_after": "4d48943", "cursor_file": "src/click/shell_completion.py", "query_terms": ["Fish shell", "completion", "quoted parameters", "escaped values", "COMP_CWORD"], "files_edited": ["src/click/shell_completion.py", "tests/test_shell_completion.py"], "expected_bundle_should_contain": ["src/click/shell_completion.py", "src/click/core.py", "src/click/parser.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Handles spaces and quotes in Fish completions. Small repo ~6k LOC."}
{"task_id": "task_013", "description": "Fix Click pager subprocess argument handling to prevent argument loss", "repo": "https://github.com/pallets/click", "commit_before": "rolandwalker/fix-pager-args", "commit_after": "701b313", "cursor_file": "src/click/utils.py", "query_terms": ["pager", "subprocess.Popen", "shell=True", "POSIX", "argument list"], "files_edited": ["src/click/utils.py", "tests/test_utils.py"], "expected_bundle_should_contain": ["src/click/utils.py", "src/click/termui.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Bug fix: Removes shell=True when passing list to Popen. Small repo ~6k LOC."}
{"task_id": "task_014", "description": "Refactor FastAPI dependencies to use dataclasses and simplify code", "repo": "https://github.com/fastapi/fastapi", "commit_before": "refactor-deps-dataclass", "commit_after": "dataclass-merge", "cursor_file": "fastapi/dependencies/utils.py", "query_terms": ["Depends", "Security", "dataclass", "get_param_sub_dependant", "dependency injection"], "files_edited": ["fastapi/dependencies/utils.py", "tests/test_dependencies.py"], "expected_bundle_should_contain": ["fastapi/dependencies/utils.py", "fastapi/dependencies/models.py", "fastapi/routing.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Refactoring: Removes get_param_sub_dependant function, uses dataclasses. Large repo ~30k LOC."}
{"task_id": "task_015", "description": "Refactor FastAPI dependency recursion from cyclic to self-recursive", "repo": "https://github.com/fastapi/fastapi", "commit_before": "refactor-deps-recursion", "commit_after": "recursion-merge", "cursor_file": "fastapi/dependencies/utils.py", "query_terms": ["get_dependant", "get_sub_dependant", "recursion", "dependency resolution", "cyclic"], "files_edited": ["fastapi/dependencies/utils.py", "tests/test_dependencies.py"], "expected_bundle_should_contain": ["fastapi/dependencies/utils.py", "fastapi/dependencies/models.py", "fastapi/routing.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Refactoring: Merges two mutually recursive functions into one self-recursive. Large repo ~30k LOC."}
{"task_id": "task_016", "description": "Make FastAPI Depends and Security results hashable for external tool compatibility", "repo": "https://github.com/fastapi/fastapi", "commit_before": "fix-hashable", "commit_after": "hashable-merge", "cursor_file": "fastapi/dependencies/models.py", "query_terms": ["Depends", "Security", "hashable", "__hash__", "dataclass"], "files_edited": ["fastapi/dependencies/models.py", "tests/test_dependencies.py"], "expected_bundle_should_contain": ["fastapi/dependencies/models.py", "fastapi/dependencies/utils.py", "fastapi/routing.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Refactoring: Workaround to make dependency objects hashable. Large repo ~30k LOC."}
{"task_id": "task_017", "description": "Refactor FastAPI coroutine detection to reuse internal utility functions", "repo": "https://github.com/fastapi/fastapi", "commit_before": "refactor-is-coroutine", "commit_after": "247ef32", "cursor_file": "fastapi/routing.py", "query_terms": ["is_coroutine", "dependant.is_coroutine_callable", "unwrap", "callable class", "async detection"], "files_edited": ["fastapi/routing.py", "tests/test_routing.py"], "expected_bundle_should_contain": ["fastapi/routing.py", "fastapi/dependencies/utils.py", "fastapi/utils.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Refactoring: Reduces code duplication in coroutine checking. Large repo ~30k LOC."}
{"task_id": "task_018", "description": "Upgrade FastAPI internal syntax to Python 3.9+ and drop Python 3.8 support", "repo": "https://github.com/fastapi/fastapi", "commit_before": "nopy38", "commit_after": "1c4fc96", "cursor_file": "pyproject.toml", "query_terms": ["Python 3.9", "type annotations", "pyproject.toml", "syntax upgrade", "python_requires"], "files_edited": ["pyproject.toml", "fastapi/routing.py", "fastapi/dependencies/utils.py", "tests/test_types.py"], "expected_bundle_should_contain": ["pyproject.toml", "fastapi/_compat.py", "fastapi/typing.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Refactoring: Modernizes codebase for newer Python features. Large repo ~30k LOC."}
{"task_id": "task_019", "description": "Exclude Pydantic fields with exclude_if from JSON Schema required fields", "repo": "https://github.com/pydantic/pydantic", "commit_before": "viicos/fix-12424", "commit_after": "7188388f99c089745e9ac30a0d60953024170cf8", "cursor_file": "pydantic/json_schema.py", "query_terms": ["json_schema", "exclude_if", "required fields", "serialization_exclude", "conditional exclusion"], "files_edited": ["pydantic/json_schema.py", "tests/test_json_schema.py"], "expected_bundle_should_contain": ["pydantic/json_schema.py", "pydantic/fields.py", "pydantic/_internal/_core_utils.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Feature: Ensures conditionally excluded fields are removed from required specifications. Large repo ~40k LOC."}
{"task_id": "task_020", "description": "Add Jinja support for async template rendering using asyncio.run", "repo": "https://github.com/pallets/jinja", "commit_before": "graingert/1951", "commit_after": "5bc613ec45d51535849e7f8a67364a1fe1c94716", "cursor_file": "src/jinja2/environment.py", "query_terms": ["Template.render", "asyncio.run", "async template", "sync rendering", "async context"], "files_edited": ["src/jinja2/environment.py", "tests/test_async.py"], "expected_bundle_should_contain": ["src/jinja2/environment.py", "src/jinja2/runtime.py", "src/jinja2/compiler.py"], "baseline_tokens_sent": 0, "expected_tokens_with_codegraph": 0, "notes": "Feature: Brings implementation in line with documentation for async templates. Medium repo ~20k LOC."}
